<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" style="background: transparent; background-color: transparent; color-scheme: light dark;" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2550px" height="4100px" viewBox="-0.5 -0.5 2550 4100" content="&lt;mxfile host=&quot;Electron&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/26.1.1 Chrome/132.0.6834.210 Electron/34.3.3 Safari/537.36&quot; version=&quot;26.1.1&quot; scale=&quot;5&quot; border=&quot;0&quot;&gt;&#10;  &lt;diagram name=&quot;Page-1&quot; id=&quot;Fs37laawRKf3-vEPou7V&quot;&gt;&#10;    &lt;mxGraphModel dx=&quot;975&quot; dy=&quot;666&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;1600&quot; pageHeight=&quot;900&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#10;      &lt;root&gt;&#10;        &lt;mxCell id=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;1&quot; parent=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;2&quot; value=&quot;&amp;lt;div style=&amp;quot;background-color: rgb(43, 43, 43); line-height: 16px;&amp;quot;&amp;gt;&amp;lt;div style=&amp;quot;text-align: left;&amp;quot;&amp;gt;&amp;lt;font face=&amp;quot;Menlo, Monaco, Courier New, monospace&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 10.8px; white-space: pre;&amp;quot;&amp;gt;&amp;lt;font style=&amp;quot;color: rgb(255, 102, 102);&amp;quot;&amp;gt;Error&amp;lt;/font&amp;gt;&amp;lt;font color=&amp;quot;#e6e6e6&amp;quot;&amp;gt;: Invariant &amp;lt;/font&amp;gt;&amp;lt;i style=&amp;quot;color: rgb(230, 230, 230);&amp;quot;&amp;gt;LeaderCompleteness&amp;lt;/i&amp;gt;&amp;lt;font color=&amp;quot;#e6e6e6&amp;quot;&amp;gt; is violated.&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;b style=&amp;quot;color: rgb(230, 230, 230);&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;text-align: left;&amp;quot;&amp;gt;&amp;lt;font face=&amp;quot;Menlo, Monaco, Courier New, monospace&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 10.8px; white-space: pre;&amp;quot;&amp;gt;&amp;lt;b style=&amp;quot;color: rgb(230, 230, 230);&amp;quot;&amp;gt;State 1: &amp;amp;lt;Initial predicate&amp;amp;gt;&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;font color=&amp;quot;#e6e6e6&amp;quot;&amp;gt;/\ log = (n1 :&amp;amp;gt; &amp;amp;lt;&amp;amp;lt;&amp;amp;gt;&amp;amp;gt; @@ n2 :&amp;amp;gt; &amp;amp;lt;&amp;amp;lt;&amp;amp;gt;&amp;amp;gt; @@ n3 :&amp;amp;gt; &amp;amp;lt;&amp;amp;lt;&amp;amp;gt;&amp;amp;gt;)&amp;lt;br&amp;gt;/\ state = (n1 :&amp;amp;gt; Secondary @@ n2 :&amp;amp;gt; Secondary @@ n3 :&amp;amp;gt; Secondary)&amp;lt;br&amp;gt;/\ committed = {}&amp;lt;br&amp;gt;/\ config = (n1 :&amp;amp;gt; {n1} @@ n2 :&amp;amp;gt; {n1} @@ n3 :&amp;amp;gt; {n1})&amp;lt;br&amp;gt;/\ currentTerm = (n1 :&amp;amp;gt; 0 @@ n2 :&amp;amp;gt; 0 @@ n3 :&amp;amp;gt; 0)&amp;lt;br&amp;gt;/\ configVersion = (n1 :&amp;amp;gt; 1 @@ n2 :&amp;amp;gt; 1 @@ n3 :&amp;amp;gt; 1)&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;b style=&amp;quot;color: rgb(230, 230, 230);&amp;quot;&amp;gt;State 2: &amp;amp;lt;BecomeLeader(n1,{n1}) of MongoRaftReconfig&amp;amp;gt;&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;font color=&amp;quot;#e6e6e6&amp;quot;&amp;gt;/\ state = (n1 :&amp;amp;gt; Primary @@ n2 :&amp;amp;gt; Secondary @@ n3 :&amp;amp;gt; Secondary)&amp;lt;br&amp;gt;/\ currentTerm = (n1 :&amp;amp;gt; 1 @@ n2 :&amp;amp;gt; 0 @@ n3 :&amp;amp;gt; 0)&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;b style=&amp;quot;color: rgb(230, 230, 230);&amp;quot;&amp;gt;State 3: &amp;amp;lt;ClientRequest(n1) of MongoRaftReconfig&amp;amp;gt;&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;font color=&amp;quot;#e6e6e6&amp;quot;&amp;gt;/\ log = (n1 :&amp;amp;gt; &amp;amp;lt;&amp;amp;lt;1&amp;amp;gt;&amp;amp;gt; @@ n2 :&amp;amp;gt; &amp;amp;lt;&amp;amp;lt;&amp;amp;gt;&amp;amp;gt; @@ n3 :&amp;amp;gt; &amp;amp;lt;&amp;amp;lt;&amp;amp;gt;&amp;amp;gt;)&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;b style=&amp;quot;color: rgb(230, 230, 230);&amp;quot;&amp;gt;State 4: &amp;amp;lt;CommitEntry(n1,{n1}) of MongoRaftReconfig&amp;amp;gt;&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;font color=&amp;quot;#e6e6e6&amp;quot;&amp;gt;/\ committed = {&amp;amp;lt;&amp;amp;lt;1, 1&amp;amp;gt;&amp;amp;gt;}&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;b style=&amp;quot;color: rgb(230, 230, 230);&amp;quot;&amp;gt;State 5: &amp;amp;lt;UpdateTerms(n1,n2) of MongoRaftReconfig&amp;amp;gt;&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;font color=&amp;quot;#e6e6e6&amp;quot;&amp;gt;/\ currentTerm = (n1 :&amp;amp;gt; 1 @@ n2 :&amp;amp;gt; 1 @@ n3 :&amp;amp;gt; 0)&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;b style=&amp;quot;color: rgb(230, 230, 230);&amp;quot;&amp;gt;State 6: &amp;amp;lt;Reconfig(n1,{n1, n2}) of MongoRaftReconfig&amp;amp;gt;&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;font color=&amp;quot;#e6e6e6&amp;quot;&amp;gt;/\ config = (n1 :&amp;amp;gt; {n1, n2} @@ n2 :&amp;amp;gt; {n1} @@ n3 :&amp;amp;gt; {n1})&amp;lt;br&amp;gt;/\ configVersion = (n1 :&amp;amp;gt; 2 @@ n2 :&amp;amp;gt; 1 @@ n3 :&amp;amp;gt; 1)&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;b style=&amp;quot;color: rgb(230, 230, 230);&amp;quot;&amp;gt;State 7: &amp;amp;lt;SendConfig(n1,n2) of MongoRaftReconfig&amp;amp;gt;&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;font color=&amp;quot;#e6e6e6&amp;quot;&amp;gt;/\ config = (n1 :&amp;amp;gt; {n1, n2} @@ n2 :&amp;amp;gt; {n1, n2} @@ n3 :&amp;amp;gt; {n1})&amp;lt;br&amp;gt;/\ configVersion = (n1 :&amp;amp;gt; 2 @@ n2 :&amp;amp;gt; 2 @@ n3 :&amp;amp;gt; 1)&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;b style=&amp;quot;color: rgb(230, 230, 230);&amp;quot;&amp;gt;State 8: &amp;amp;lt;Reconfig(n1,{n1, n2, n3}) of MongoRaftReconfig&amp;amp;gt;&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;font color=&amp;quot;#e6e6e6&amp;quot;&amp;gt;/\ config = (n1 :&amp;amp;gt; {n1, n2, n3} @@ n2 :&amp;amp;gt; {n1, n2} @@ n3 :&amp;amp;gt; {n1})&amp;lt;br&amp;gt;/\ configVersion = (n1 :&amp;amp;gt; 3 @@ n2 :&amp;amp;gt; 2 @@ n3 :&amp;amp;gt; 1)&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;b style=&amp;quot;color: rgb(230, 230, 230);&amp;quot;&amp;gt;State 9: &amp;amp;lt;SendConfig(n1,n2) of MongoRaftReconfig&amp;amp;gt;&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;font color=&amp;quot;#e6e6e6&amp;quot;&amp;gt;/\ config = (n1 :&amp;amp;gt; {n1, n2, n3} @@ n2 :&amp;amp;gt; {n1, n2, n3} @@ n3 :&amp;amp;gt; {n1})&amp;lt;br&amp;gt;/\ configVersion = (n1 :&amp;amp;gt; 3 @@ n2 :&amp;amp;gt; 3 @@ n3 :&amp;amp;gt; 1)&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;b style=&amp;quot;color: rgb(230, 230, 230);&amp;quot;&amp;gt;State 10: &amp;amp;lt;BecomeLeader(n2,{n2, n3}) of MongoRaftReconfig&amp;amp;gt;&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;font color=&amp;quot;#e6e6e6&amp;quot;&amp;gt;/\ log = (n1 :&amp;amp;gt; &amp;amp;lt;&amp;amp;lt;1&amp;amp;gt;&amp;amp;gt; @@ &amp;lt;/font&amp;gt;&amp;lt;font style=&amp;quot;color: rgb(255, 102, 102);&amp;quot;&amp;gt;n2 :&amp;amp;gt; &amp;amp;lt;&amp;amp;lt;&amp;amp;gt;&amp;amp;gt;&amp;lt;/font&amp;gt;&amp;lt;font color=&amp;quot;#e6e6e6&amp;quot;&amp;gt; @@ n3 :&amp;amp;gt; &amp;amp;lt;&amp;amp;lt;&amp;amp;gt;&amp;amp;gt;)&amp;lt;br&amp;gt;/\ state = (n1 :&amp;amp;gt; Primary @@ &amp;lt;/font&amp;gt;&amp;lt;font style=&amp;quot;color: rgb(255, 102, 102);&amp;quot;&amp;gt;n2 :&amp;amp;gt; Primary &amp;lt;/font&amp;gt;&amp;lt;font color=&amp;quot;#e6e6e6&amp;quot;&amp;gt;@@ n3 :&amp;amp;gt; Secondary)&amp;lt;br&amp;gt;/\ committed = {&amp;lt;/font&amp;gt;&amp;lt;font style=&amp;quot;color: rgb(255, 102, 102);&amp;quot;&amp;gt;&amp;amp;lt;&amp;amp;lt;1, 1&amp;amp;gt;&amp;amp;gt;&amp;lt;/font&amp;gt;&amp;lt;font color=&amp;quot;#e6e6e6&amp;quot;&amp;gt;}&amp;lt;br&amp;gt;/\ config = (n1 :&amp;amp;gt; {n1, n2, n3} @@ n2 :&amp;amp;gt; {n1, n2, n3} @@ n3 :&amp;amp;gt; {n1})&amp;lt;br&amp;gt;/\ currentTerm = (n1 :&amp;amp;gt; 1 @@ n2 :&amp;amp;gt; 2 @@ n3 :&amp;amp;gt; 2)&amp;lt;br&amp;gt;/\ configVersion = (n1 :&amp;amp;gt; 3 @@ n2 :&amp;amp;gt; 3 @@ n3 :&amp;amp;gt; 1)&amp;lt;/font&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;span style=&amp;quot;color: rgb(169, 183, 198); font-family: Menlo, Monaco, &amp;amp;quot;Courier New&amp;amp;quot;, monospace; font-size: 10.8px; white-space: pre;&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;strokeColor=none;fillColor=light-dark(#2B2B2B,#282A35);gradientColor=none;arcSize=2;strokeWidth=2;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;410&quot; y=&quot;30&quot; width=&quot;510&quot; height=&quot;820&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;      &lt;/root&gt;&#10;    &lt;/mxGraphModel&gt;&#10;  &lt;/diagram&gt;&#10;&lt;/mxfile&gt;&#10;"><defs/><g><g data-cell-id="S78iAIIInrne-IOesmyg-0"><g data-cell-id="S78iAIIInrne-IOesmyg-1"><g data-cell-id="S78iAIIInrne-IOesmyg-2"><g><rect x="0" y="0" width="2550" height="4100" rx="51" ry="51" fill="#2b2b2b" stroke="none" pointer-events="all" style="fill: light-dark(rgb(43, 43, 43), rgb(40, 42, 53));"/></g><g><g transform="translate(-0.5 -0.5)scale(5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 508px; height: 1px; padding-top: 410px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="background-color: rgb(43, 43, 43); line-height: 16px;"><div style="text-align: left;"><font face="Menlo, Monaco, Courier New, monospace"><span style="font-size: 10.8px; white-space: pre;"><font style="color: rgb(255, 102, 102);">Error</font><font color="#e6e6e6" style="color: rgb(230, 230, 230);">: Invariant </font><i style="color: rgb(230, 230, 230);">LeaderCompleteness</i><font color="#e6e6e6" style="color: rgb(230, 230, 230);"> is violated.<br /></font><b style="color: rgb(230, 230, 230);"><br /></b></span></font></div><div style="text-align: left;"><font face="Menlo, Monaco, Courier New, monospace"><span style="font-size: 10.8px; white-space: pre;"><b style="color: rgb(230, 230, 230);">State 1: &lt;Initial predicate&gt;<br /></b><font color="#e6e6e6" style="color: rgb(230, 230, 230);">/\ log = (n1 :&gt; &lt;&lt;&gt;&gt; @@ n2 :&gt; &lt;&lt;&gt;&gt; @@ n3 :&gt; &lt;&lt;&gt;&gt;)<br />/\ state = (n1 :&gt; Secondary @@ n2 :&gt; Secondary @@ n3 :&gt; Secondary)<br />/\ committed = {}<br />/\ config = (n1 :&gt; {n1} @@ n2 :&gt; {n1} @@ n3 :&gt; {n1})<br />/\ currentTerm = (n1 :&gt; 0 @@ n2 :&gt; 0 @@ n3 :&gt; 0)<br />/\ configVersion = (n1 :&gt; 1 @@ n2 :&gt; 1 @@ n3 :&gt; 1)<br /><br /></font><b style="color: rgb(230, 230, 230);">State 2: &lt;BecomeLeader(n1,{n1}) of MongoRaftReconfig&gt;<br /></b><font color="#e6e6e6" style="color: rgb(230, 230, 230);">/\ state = (n1 :&gt; Primary @@ n2 :&gt; Secondary @@ n3 :&gt; Secondary)<br />/\ currentTerm = (n1 :&gt; 1 @@ n2 :&gt; 0 @@ n3 :&gt; 0)<br /><br /></font><b style="color: rgb(230, 230, 230);">State 3: &lt;ClientRequest(n1) of MongoRaftReconfig&gt;<br /></b><font color="#e6e6e6" style="color: rgb(230, 230, 230);">/\ log = (n1 :&gt; &lt;&lt;1&gt;&gt; @@ n2 :&gt; &lt;&lt;&gt;&gt; @@ n3 :&gt; &lt;&lt;&gt;&gt;)<br /><br /></font><b style="color: rgb(230, 230, 230);">State 4: &lt;CommitEntry(n1,{n1}) of MongoRaftReconfig&gt;<br /></b><font color="#e6e6e6" style="color: rgb(230, 230, 230);">/\ committed = {&lt;&lt;1, 1&gt;&gt;}<br /><br /></font><b style="color: rgb(230, 230, 230);">State 5: &lt;UpdateTerms(n1,n2) of MongoRaftReconfig&gt;<br /></b><font color="#e6e6e6" style="color: rgb(230, 230, 230);">/\ currentTerm = (n1 :&gt; 1 @@ n2 :&gt; 1 @@ n3 :&gt; 0)<br /><br /></font><b style="color: rgb(230, 230, 230);">State 6: &lt;Reconfig(n1,{n1, n2}) of MongoRaftReconfig&gt;<br /></b><font color="#e6e6e6" style="color: rgb(230, 230, 230);">/\ config = (n1 :&gt; {n1, n2} @@ n2 :&gt; {n1} @@ n3 :&gt; {n1})<br />/\ configVersion = (n1 :&gt; 2 @@ n2 :&gt; 1 @@ n3 :&gt; 1)<br /><br /></font><b style="color: rgb(230, 230, 230);">State 7: &lt;SendConfig(n1,n2) of MongoRaftReconfig&gt;<br /></b><font color="#e6e6e6" style="color: rgb(230, 230, 230);">/\ config = (n1 :&gt; {n1, n2} @@ n2 :&gt; {n1, n2} @@ n3 :&gt; {n1})<br />/\ configVersion = (n1 :&gt; 2 @@ n2 :&gt; 2 @@ n3 :&gt; 1)<br /><br /></font><b style="color: rgb(230, 230, 230);">State 8: &lt;Reconfig(n1,{n1, n2, n3}) of MongoRaftReconfig&gt;<br /></b><font color="#e6e6e6" style="color: rgb(230, 230, 230);">/\ config = (n1 :&gt; {n1, n2, n3} @@ n2 :&gt; {n1, n2} @@ n3 :&gt; {n1})<br />/\ configVersion = (n1 :&gt; 3 @@ n2 :&gt; 2 @@ n3 :&gt; 1)<br /><br /></font><b style="color: rgb(230, 230, 230);">State 9: &lt;SendConfig(n1,n2) of MongoRaftReconfig&gt;<br /></b><font color="#e6e6e6" style="color: rgb(230, 230, 230);">/\ config = (n1 :&gt; {n1, n2, n3} @@ n2 :&gt; {n1, n2, n3} @@ n3 :&gt; {n1})<br />/\ configVersion = (n1 :&gt; 3 @@ n2 :&gt; 3 @@ n3 :&gt; 1)<br /><br /></font><b style="color: rgb(230, 230, 230);">State 10: &lt;BecomeLeader(n2,{n2, n3}) of MongoRaftReconfig&gt;<br /></b><font color="#e6e6e6" style="color: rgb(230, 230, 230);">/\ log = (n1 :&gt; &lt;&lt;1&gt;&gt; @@ </font><font style="color: rgb(255, 102, 102);">n2 :&gt; &lt;&lt;&gt;&gt;</font><font color="#e6e6e6" style="color: rgb(230, 230, 230);"> @@ n3 :&gt; &lt;&lt;&gt;&gt;)<br />/\ state = (n1 :&gt; Primary @@ </font><font style="color: rgb(255, 102, 102);">n2 :&gt; Primary </font><font color="#e6e6e6" style="color: rgb(230, 230, 230);">@@ n3 :&gt; Secondary)<br />/\ committed = {</font><font style="color: rgb(255, 102, 102);">&lt;&lt;1, 1&gt;&gt;</font><font color="#e6e6e6" style="color: rgb(230, 230, 230);">}<br />/\ config = (n1 :&gt; {n1, n2, n3} @@ n2 :&gt; {n1, n2, n3} @@ n3 :&gt; {n1})<br />/\ currentTerm = (n1 :&gt; 1 @@ n2 :&gt; 2 @@ n3 :&gt; 2)<br />/\ configVersion = (n1 :&gt; 3 @@ n2 :&gt; 3 @@ n3 :&gt; 1)</font></span></font><span style="color: rgb(169, 183, 198); font-family: Menlo, Monaco, &quot;Courier New&quot;, monospace; font-size: 10.8px; white-space: pre;"><br /></span></div></div></div></div></div></foreignObject><text x="255" y="414" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Error: Invariant LeaderCompleteness is violated....</text></switch></g></g></g></g></g></g></svg>