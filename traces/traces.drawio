<mxfile host="Electron" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/26.1.1 Chrome/132.0.6834.210 Electron/34.3.3 Safari/537.36" version="26.1.1" pages="8">
  <diagram name="t1" id="8jFQAHfubnYCTreY2xb-">
    <mxGraphModel dx="975" dy="666" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="YvlI-vDUudLmRY7K9i0u-4" value="&lt;div style=&quot;background-color: rgb(43, 43, 43); line-height: 16px;&quot;&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font style=&quot;color: rgb(255, 102, 102);&quot;&gt;Error&lt;/font&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;: Invariant &lt;i&gt;ElectionSafety&lt;/i&gt; is violated.&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 1: &amp;lt;Initial predicate&amp;gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;/\ log = (n1 :&amp;gt; &amp;lt;&amp;lt;&amp;gt;&amp;gt; @@ n2 :&amp;gt; &amp;lt;&amp;lt;&amp;gt;&amp;gt; @@ n3 :&amp;gt; &amp;lt;&amp;lt;&amp;gt;&amp;gt;)&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;/\ state = (n1 :&amp;gt; Secondary @@ n2 :&amp;gt; Secondary @@ n3 :&amp;gt; Secondary)&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;/\ committed = {}&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;/\ config = (n1 :&amp;gt; {n1} @@ n2 :&amp;gt; {n1} @@ n3 :&amp;gt; {n1})&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;/\ currentTerm = (n1 :&amp;gt; 0 @@ n2 :&amp;gt; 0 @@ n3 :&amp;gt; 0)&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;/\ configVersion = (n1 :&amp;gt; 1 @@ n2 :&amp;gt; 1 @@ n3 :&amp;gt; 1)&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 2: &amp;lt;BecomeLeader(n1,{n1}) of MongoRaftReconfig&amp;gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;/\ state = (n1 :&amp;gt; Primary @@ n2 :&amp;gt; Secondary @@ n3 :&amp;gt; Secondary)&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;/\ currentTerm = (n1 :&amp;gt; 1 @@ n2 :&amp;gt; 0 @@ n3 :&amp;gt; 0)&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 3: &amp;lt;Reconfig(n1,{n1, n2}) of MongoRaftReconfig&amp;gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;/\ config = (n1 :&amp;gt; {n1, n2} @@ n2 :&amp;gt; {n1} @@ n3 :&amp;gt; {n1})&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;/\ configVersion = (n1 :&amp;gt; 2 @@ n2 :&amp;gt; 1 @@ n3 :&amp;gt; 1)&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 4: &amp;lt;Reconfig(n1,{n1, n2, n3}) of MongoRaftReconfig&amp;gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;/\ config = (n1 :&amp;gt; {n1, n2, n3} @@ n2 :&amp;gt; {n1} @@ n3 :&amp;gt; {n1})&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;/\ configVersion = (n1 :&amp;gt; 3 @@ n2 :&amp;gt; 1 @@ n3 :&amp;gt; 1)&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 5: &amp;lt;SendConfig(n1,n2) of MongoRaftReconfig&amp;gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;/\ config = (n1 :&amp;gt; {n1, n2, n3} @@ n2 :&amp;gt; {n1, n2, n3} @@ n3 :&amp;gt; {n1})&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;/\ configVersion = (n1 :&amp;gt; 3 @@ n2 :&amp;gt; 3 @@ n3 :&amp;gt; 1)&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;b&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 6: &amp;lt;BecomeLeader(n2,{n2, n3}) of MongoRaftReconfig&amp;gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;/\ log = (n1 :&amp;gt; &amp;lt;&amp;lt;&amp;gt;&amp;gt; @@ n2 :&amp;gt; &amp;lt;&amp;lt;&amp;gt;&amp;gt; @@ n3 :&amp;gt; &amp;lt;&amp;lt;&amp;gt;&amp;gt;)&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;/\ state = (&lt;/font&gt;&lt;font style=&quot;color: rgb(255, 102, 102);&quot;&gt;n1 :&amp;gt; &lt;font style=&quot;&quot;&gt;Primary&lt;/font&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(230, 230, 230);&quot;&gt; @@ &lt;/span&gt;&lt;font style=&quot;color: rgb(255, 102, 102);&quot;&gt;n2 :&amp;gt; &lt;font style=&quot;&quot;&gt;Primary&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt; @@ n3 :&amp;gt; Secondary)&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;/\ committed = {}&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;/\ config = (n1 :&amp;gt; {n1, n2, n3} @@ n2 :&amp;gt; {n1, n2, n3} @@ n3 :&amp;gt; {n1})&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;/\ currentTerm = (&lt;/font&gt;&lt;font style=&quot;color: rgb(255, 102, 102);&quot;&gt;n1 :&amp;gt; 1&lt;/font&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt; @@ &lt;/font&gt;&lt;font style=&quot;color: rgb(255, 102, 102);&quot;&gt;n2 :&amp;gt; 1&lt;/font&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt; @@ n3 :&amp;gt; 1)&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;/\ configVersion = (n1 :&amp;gt; 3 @@ n2 :&amp;gt; 3 @@ n3 :&amp;gt; 1)&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;strokeColor=#9AC7BF;fillColor=light-dark(#2B2B2B,#282A35);gradientColor=none;arcSize=2;imageHeight=24;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="370" y="210" width="510" height="590" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="t3" id="I8Q4x0z7_d7YDWWrgwYp">
    <mxGraphModel dx="975" dy="666" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="S78iAIIInrne-IOesmyg-0" />
        <mxCell id="S78iAIIInrne-IOesmyg-1" parent="S78iAIIInrne-IOesmyg-0" />
        <mxCell id="S78iAIIInrne-IOesmyg-2" value="&lt;div style=&quot;background-color: rgb(43, 43, 43); line-height: 16px;&quot;&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font face=&quot;Menlo, Monaco, Courier New, monospace&quot;&gt;&lt;span style=&quot;font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font style=&quot;color: rgb(255, 102, 102);&quot;&gt;Error&lt;/font&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;: Invariant &lt;/font&gt;&lt;i style=&quot;color: rgb(230, 230, 230);&quot;&gt;LeaderCompleteness&lt;/i&gt;&lt;font color=&quot;#e6e6e6&quot;&gt; is violated.&lt;br&gt;&lt;/font&gt;&lt;b style=&quot;color: rgb(230, 230, 230);&quot;&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font face=&quot;Menlo, Monaco, Courier New, monospace&quot;&gt;&lt;span style=&quot;font-size: 10.8px; white-space: pre;&quot;&gt;&lt;b style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 1: &amp;lt;Initial predicate&amp;gt;&lt;br&gt;&lt;/b&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;/\ log = (n1 :&amp;gt; &amp;lt;&amp;lt;&amp;gt;&amp;gt; @@ n2 :&amp;gt; &amp;lt;&amp;lt;&amp;gt;&amp;gt; @@ n3 :&amp;gt; &amp;lt;&amp;lt;&amp;gt;&amp;gt;)&lt;br&gt;/\ state = (n1 :&amp;gt; Secondary @@ n2 :&amp;gt; Secondary @@ n3 :&amp;gt; Secondary)&lt;br&gt;/\ committed = {}&lt;br&gt;/\ config = (n1 :&amp;gt; {n1} @@ n2 :&amp;gt; {n1} @@ n3 :&amp;gt; {n1})&lt;br&gt;/\ currentTerm = (n1 :&amp;gt; 0 @@ n2 :&amp;gt; 0 @@ n3 :&amp;gt; 0)&lt;br&gt;/\ configVersion = (n1 :&amp;gt; 1 @@ n2 :&amp;gt; 1 @@ n3 :&amp;gt; 1)&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;b style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 2: &amp;lt;BecomeLeader(n1,{n1}) of MongoRaftReconfig&amp;gt;&lt;br&gt;&lt;/b&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;/\ state = (n1 :&amp;gt; Primary @@ n2 :&amp;gt; Secondary @@ n3 :&amp;gt; Secondary)&lt;br&gt;/\ currentTerm = (n1 :&amp;gt; 1 @@ n2 :&amp;gt; 0 @@ n3 :&amp;gt; 0)&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;b style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 3: &amp;lt;ClientRequest(n1) of MongoRaftReconfig&amp;gt;&lt;br&gt;&lt;/b&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;/\ log = (n1 :&amp;gt; &amp;lt;&amp;lt;1&amp;gt;&amp;gt; @@ n2 :&amp;gt; &amp;lt;&amp;lt;&amp;gt;&amp;gt; @@ n3 :&amp;gt; &amp;lt;&amp;lt;&amp;gt;&amp;gt;)&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;b style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 4: &amp;lt;CommitEntry(n1,{n1}) of MongoRaftReconfig&amp;gt;&lt;br&gt;&lt;/b&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;/\ committed = {&amp;lt;&amp;lt;1, 1&amp;gt;&amp;gt;}&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;b style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 5: &amp;lt;UpdateTerms(n1,n2) of MongoRaftReconfig&amp;gt;&lt;br&gt;&lt;/b&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;/\ currentTerm = (n1 :&amp;gt; 1 @@ n2 :&amp;gt; 1 @@ n3 :&amp;gt; 0)&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;b style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 6: &amp;lt;Reconfig(n1,{n1, n2}) of MongoRaftReconfig&amp;gt;&lt;br&gt;&lt;/b&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;/\ config = (n1 :&amp;gt; {n1, n2} @@ n2 :&amp;gt; {n1} @@ n3 :&amp;gt; {n1})&lt;br&gt;/\ configVersion = (n1 :&amp;gt; 2 @@ n2 :&amp;gt; 1 @@ n3 :&amp;gt; 1)&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;b style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 7: &amp;lt;SendConfig(n1,n2) of MongoRaftReconfig&amp;gt;&lt;br&gt;&lt;/b&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;/\ config = (n1 :&amp;gt; {n1, n2} @@ n2 :&amp;gt; {n1, n2} @@ n3 :&amp;gt; {n1})&lt;br&gt;/\ configVersion = (n1 :&amp;gt; 2 @@ n2 :&amp;gt; 2 @@ n3 :&amp;gt; 1)&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;b style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 8: &amp;lt;Reconfig(n1,{n1, n2, n3}) of MongoRaftReconfig&amp;gt;&lt;br&gt;&lt;/b&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;/\ config = (n1 :&amp;gt; {n1, n2, n3} @@ n2 :&amp;gt; {n1, n2} @@ n3 :&amp;gt; {n1})&lt;br&gt;/\ configVersion = (n1 :&amp;gt; 3 @@ n2 :&amp;gt; 2 @@ n3 :&amp;gt; 1)&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;b style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 9: &amp;lt;SendConfig(n1,n2) of MongoRaftReconfig&amp;gt;&lt;br&gt;&lt;/b&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;/\ config = (n1 :&amp;gt; {n1, n2, n3} @@ n2 :&amp;gt; {n1, n2, n3} @@ n3 :&amp;gt; {n1})&lt;br&gt;/\ configVersion = (n1 :&amp;gt; 3 @@ n2 :&amp;gt; 3 @@ n3 :&amp;gt; 1)&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;b style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 10: &amp;lt;BecomeLeader(n2,{n2, n3}) of MongoRaftReconfig&amp;gt;&lt;br&gt;&lt;/b&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;/\ log = (n1 :&amp;gt; &amp;lt;&amp;lt;1&amp;gt;&amp;gt; @@ &lt;/font&gt;&lt;font style=&quot;color: rgb(255, 102, 102);&quot;&gt;n2 :&amp;gt; &amp;lt;&amp;lt;&amp;gt;&amp;gt;&lt;/font&gt;&lt;font color=&quot;#e6e6e6&quot;&gt; @@ n3 :&amp;gt; &amp;lt;&amp;lt;&amp;gt;&amp;gt;)&lt;br&gt;/\ state = (n1 :&amp;gt; Primary @@ &lt;/font&gt;&lt;font style=&quot;color: rgb(255, 102, 102);&quot;&gt;n2 :&amp;gt; Primary &lt;/font&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;@@ n3 :&amp;gt; Secondary)&lt;br&gt;/\ committed = {&lt;/font&gt;&lt;font style=&quot;color: rgb(255, 102, 102);&quot;&gt;&amp;lt;&amp;lt;1, 1&amp;gt;&amp;gt;&lt;/font&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;}&lt;br&gt;/\ config = (n1 :&amp;gt; {n1, n2, n3} @@ n2 :&amp;gt; {n1, n2, n3} @@ n3 :&amp;gt; {n1})&lt;br&gt;/\ currentTerm = (n1 :&amp;gt; 1 @@ n2 :&amp;gt; 2 @@ n3 :&amp;gt; 2)&lt;br&gt;/\ configVersion = (n1 :&amp;gt; 3 @@ n2 :&amp;gt; 3 @@ n3 :&amp;gt; 1)&lt;/font&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(169, 183, 198); font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;strokeColor=#9AC7BF;fillColor=light-dark(#2B2B2B,#282A35);gradientColor=none;arcSize=2;strokeWidth=2;" parent="S78iAIIInrne-IOesmyg-1" vertex="1">
          <mxGeometry x="410" y="30" width="510" height="820" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="t4" id="Dw2xp2wHiNmwODTYANPz">
    <mxGraphModel dx="975" dy="1566" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="6cvMPJdQGqWW_6ucDWrY-0" />
        <mxCell id="6cvMPJdQGqWW_6ucDWrY-1" parent="6cvMPJdQGqWW_6ucDWrY-0" />
        <mxCell id="6cvMPJdQGqWW_6ucDWrY-2" value="&lt;div style=&quot;background-color: rgb(43, 43, 43); line-height: 16px;&quot;&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font face=&quot;Menlo, Monaco, Courier New, monospace&quot;&gt;&lt;span style=&quot;font-size: 10.8px; white-space: pre;&quot;&gt;&lt;font style=&quot;color: rgb(255, 102, 102);&quot;&gt;Error&lt;/font&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;: Invariant &lt;i&gt;ElectionSafety&lt;/i&gt; is violated.&lt;br&gt;&lt;/font&gt;&lt;b style=&quot;color: rgb(230, 230, 230);&quot;&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font face=&quot;Menlo, Monaco, Courier New, monospace&quot;&gt;&lt;span style=&quot;font-size: 10.8px; white-space: pre;&quot;&gt;&lt;b style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 1: &amp;lt;Initial predicate&amp;gt;&lt;br&gt;&lt;/b&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;/\ log = (n1 :&amp;gt; &amp;lt;&amp;lt;&amp;gt;&amp;gt; @@ n2 :&amp;gt; &amp;lt;&amp;lt;&amp;gt;&amp;gt; @@ n3 :&amp;gt; &amp;lt;&amp;lt;&amp;gt;&amp;gt; @@ n4 :&amp;gt; &amp;lt;&amp;lt;&amp;gt;&amp;gt;)&lt;br&gt;/\ state = (n1 :&amp;gt; Secondary @@ n2 :&amp;gt; Secondary @@ n3 :&amp;gt; Secondary @@ n4 :&amp;gt; Secondary)&lt;br&gt;/\ committed = {}&lt;br&gt;/\ config = ( n1 :&amp;gt; {n1, n2, n3, n4} @@&lt;br&gt;  n2 :&amp;gt; {n1, n2, n3, n4} @@&lt;br&gt;  n3 :&amp;gt; {n1, n2, n3, n4} @@&lt;br&gt;  n4 :&amp;gt; {n1, n2, n3, n4} )&lt;br&gt;/\ currentTerm = (n1 :&amp;gt; 0 @@ n2 :&amp;gt; 0 @@ n3 :&amp;gt; 0 @@ n4 :&amp;gt; 0)&lt;br&gt;/\ configVersion = (n1 :&amp;gt; 1 @@ n2 :&amp;gt; 1 @@ n3 :&amp;gt; 1 @@ n4 :&amp;gt; 1)&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;b style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 2: &amp;lt;BecomeLeader(n1,{n1, n2, n3}) of MongoRaftReconfig&amp;gt;&lt;br&gt;&lt;/b&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;/\ state = (n1 :&amp;gt; Primary @@ n2 :&amp;gt; Secondary @@ n3 :&amp;gt; Secondary @@ n4 :&amp;gt; Secondary)&lt;br&gt;/\ currentTerm = (n1 :&amp;gt; 1 @@ n2 :&amp;gt; 1 @@ n3 :&amp;gt; 1 @@ n4 :&amp;gt; 0)&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;b style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 3: &amp;lt;Reconfig(n1,{n1, n2, n3}) of MongoRaftReconfig&amp;gt;&lt;br&gt;&lt;/b&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;/\ config = ( n1 :&amp;gt; {n1, n2, n3} @@&lt;br&gt;  n2 :&amp;gt; {n1, n2, n3, n4} @@&lt;br&gt;  n3 :&amp;gt; {n1, n2, n3, n4} @@&lt;br&gt;  n4 :&amp;gt; {n1, n2, n3, n4} )&lt;br&gt;/\ configVersion = (n1 :&amp;gt; 2 @@ n2 :&amp;gt; 1 @@ n3 :&amp;gt; 1 @@ n4 :&amp;gt; 1)&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;b style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 4: &amp;lt;BecomeLeader(n2,{n2, n3, n4}) of MongoRaftReconfig&amp;gt;&lt;br&gt;&lt;/b&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;/\ state = (n1 :&amp;gt; Primary @@ n2 :&amp;gt; Primary @@ n3 :&amp;gt; Secondary @@ n4 :&amp;gt; Secondary)&lt;br&gt;/\ currentTerm = (n1 :&amp;gt; 1 @@ n2 :&amp;gt; 2 @@ n3 :&amp;gt; 2 @@ n4 :&amp;gt; 2)&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;b style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 5: &amp;lt;UpdateTerms(n2,n1) of MongoRaftReconfig&amp;gt;&lt;br&gt;&lt;/b&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;/\ state = (n1 :&amp;gt; Secondary @@ n2 :&amp;gt; Primary @@ n3 :&amp;gt; Secondary @@ n4 :&amp;gt; Secondary)&lt;br&gt;/\ currentTerm = (n1 :&amp;gt; 2 @@ n2 :&amp;gt; 2 @@ n3 :&amp;gt; 2 @@ n4 :&amp;gt; 2)&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;b style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 6: &amp;lt;Reconfig(n2,{n1, n2, n4}) of MongoRaftReconfig&amp;gt;&lt;br&gt;&lt;/b&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;/\ config = ( n1 :&amp;gt; {n1, n2, n3} @@&lt;br&gt;  n2 :&amp;gt; {n1, n2, n4} @@&lt;br&gt;  n3 :&amp;gt; {n1, n2, n3, n4} @@&lt;br&gt;  n4 :&amp;gt; {n1, n2, n3, n4} )&lt;br&gt;/\ configVersion = (n1 :&amp;gt; 2 @@ n2 :&amp;gt; 2 @@ n3 :&amp;gt; 1 @@ n4 :&amp;gt; 1)&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;b style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 7: &amp;lt;BecomeLeader(n1,{n1, n3}) of MongoRaftReconfig&amp;gt;&lt;br&gt;&lt;/b&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;/\ state = (n1 :&amp;gt; Primary @@ n2 :&amp;gt; Primary @@ n3 :&amp;gt; Secondary @@ n4 :&amp;gt; Secondary)&lt;br&gt;/\ config = ( n1 :&amp;gt; {n1, n2, n3} @@&lt;br&gt;              n2 :&amp;gt; {n1, n2, n4} @@&lt;br&gt;              n3 :&amp;gt; {n1, n2, n3, n4} @@&lt;br&gt;              n4 :&amp;gt; {n1, n2, n3, n4} )&lt;br&gt;/\ currentTerm = (n1 :&amp;gt; 3 @@ n2 :&amp;gt; 2 @@ n3 :&amp;gt; 3 @@ n4 :&amp;gt; 2)&lt;br&gt;/\ configVersion = (n1 :&amp;gt; 2 @@ n2 :&amp;gt; 2 @@ n3 :&amp;gt; 1 @@ n4 :&amp;gt; 1)&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;b style=&quot;color: rgb(230, 230, 230);&quot;&gt;State 8: &amp;lt;BecomeLeader(n2,{n2, n4}) of MongoRaftReconfig&amp;gt;&lt;br&gt;&lt;/b&gt;&lt;font color=&quot;#e6e6e6&quot;&gt;/\ log = (n1 :&amp;gt; &amp;lt;&amp;lt;&amp;gt;&amp;gt; @@ n2 :&amp;gt; &amp;lt;&amp;lt;&amp;gt;&amp;gt; @@ n3 :&amp;gt; &amp;lt;&amp;lt;&amp;gt;&amp;gt; @@ n4 :&amp;gt; &amp;lt;&amp;lt;&amp;gt;&amp;gt;)&lt;br&gt;/\ state = (&lt;/font&gt;&lt;font style=&quot;color: rgb(255, 102, 102);&quot;&gt;n1 :&amp;gt; Primary&lt;/font&gt;&lt;font color=&quot;#e6e6e6&quot;&gt; @@ &lt;/font&gt;&lt;font style=&quot;color: rgb(255, 102, 102);&quot;&gt;n2 :&amp;gt; Primary&lt;/font&gt;&lt;font color=&quot;#e6e6e6&quot;&gt; @@ n3 :&amp;gt; Secondary @@ n4 :&amp;gt; Secondary)&lt;br&gt;/\ committed = {}&lt;br&gt;/\ config = ( n1 :&amp;gt; {n1, n2, n3} @@&lt;br&gt;              n2 :&amp;gt; {n1, n2, n4} @@&lt;br&gt;              n3 :&amp;gt; {n1, n2, n3, n4} @@&lt;br&gt;              n4 :&amp;gt; {n1, n2, n3, n4} )&lt;br&gt;/\ currentTerm = (&lt;/font&gt;&lt;font style=&quot;color: rgb(255, 102, 102);&quot;&gt;n1 :&amp;gt; 3&lt;/font&gt;&lt;font color=&quot;#e6e6e6&quot;&gt; @@ &lt;/font&gt;&lt;font style=&quot;color: rgb(255, 102, 102);&quot;&gt;n2 :&amp;gt; 3&lt;/font&gt;&lt;font color=&quot;#e6e6e6&quot;&gt; @@ n3 :&amp;gt; 3 @@ n4 :&amp;gt; 3)&lt;br&gt;/\ configVersion = (n1 :&amp;gt; 2 @@ n2 :&amp;gt; 2 @@ n3 :&amp;gt; 1 @@ n4 :&amp;gt; 1)&lt;/font&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(169, 183, 198); font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 10.8px; white-space: pre;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;strokeColor=#9AC7BF;fillColor=light-dark(#2B2B2B,#282A35);gradientColor=none;arcSize=2;strokeWidth=2;" parent="6cvMPJdQGqWW_6ucDWrY-1" vertex="1">
          <mxGeometry x="370" y="-220" width="630" height="1040" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="snippet-0" id="eUHc3XiV-_BEyFJC1U7w">
    <mxGraphModel dx="696" dy="476" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="HfvCpmWmUsZq0VJ6BsPM-0" />
        <mxCell id="HfvCpmWmUsZq0VJ6BsPM-1" parent="HfvCpmWmUsZq0VJ6BsPM-0" />
        <mxCell id="HfvCpmWmUsZq0VJ6BsPM-2" value="&lt;span style=&quot;&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;p dir=&quot;ltr&quot; style=&quot;font-weight: normal; line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;span style=&quot;color: rgb(128, 128, 128); background-color: transparent; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; white-space-collapse: preserve;&quot;&gt;\* A reconfig to ‘newConfig’ occurs on node i, which is currently a primary.&lt;/span&gt;&lt;/p&gt;&lt;p dir=&quot;ltr&quot; style=&quot;font-weight: bold; color: rgb(230, 230, 230); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;Reconfig(i, newConfig) ==&lt;/span&gt;&lt;/p&gt;&lt;p dir=&quot;ltr&quot; style=&quot;font-weight: normal; color: rgb(230, 230, 230); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ state[i] = Primary&lt;/span&gt;&lt;/p&gt;&lt;p dir=&quot;ltr&quot; style=&quot;font-weight: normal; color: rgb(230, 230, 230); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ i &lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 10.6667px; white-space-collapse: preserve; background-color: transparent;&quot;&gt;∈ &lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; white-space-collapse: preserve;&quot;&gt;newConfig&lt;/span&gt;&lt;/p&gt;&lt;p dir=&quot;ltr&quot; style=&quot;font-weight: normal; line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;span style=&quot;background-color: transparent; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; white-space-collapse: preserve; color: rgb(230, 230, 230);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ configVersion&#39; = [configVersion EXCEPT ![i] = configVersion[i] + 1]&lt;/span&gt;&lt;/p&gt;&lt;p dir=&quot;ltr&quot; style=&quot;font-weight: normal; color: rgb(230, 230, 230); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ config&#39; = [config EXCEPT ![i] = newConfig]&lt;/span&gt;&lt;/p&gt;&lt;p dir=&quot;ltr&quot; style=&quot;font-weight: normal; color: rgb(230, 230, 230); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ UNCHANGED &amp;lt;&amp;lt;currentTerm, state&amp;gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p dir=&quot;ltr&quot; style=&quot;font-weight: normal; color: rgb(230, 230, 230); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p dir=&quot;ltr&quot; style=&quot;font-weight: normal; color: rgb(230, 230, 230); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;color: rgb(128, 128, 128); background-color: transparent; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; white-space-collapse: preserve;&quot;&gt;\* Node i sends its current config to node j.&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;forced-color-adjust: none; line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt; color: rgb(230, 230, 230);&quot; dir=&quot;ltr&quot;&gt;&lt;font face=&quot;Roboto Mono, monospace&quot; color=&quot;#e6e6e6&quot;&gt;&lt;span style=&quot;font-size: 10.6667px; white-space-collapse: preserve;&quot;&gt;&lt;b&gt;SendConfig(i, j) ==&lt;br&gt;&lt;/b&gt;    /\ state[j] = Secondary&lt;br&gt;    /\ IsNewerConfig(i, j)&lt;br&gt;    /\ configVersion&#39; = [configVersion EXCEPT ![j] = configVersion[i]]&lt;br&gt;    /\ config&#39; = [config EXCEPT ![j] = config[i]]&lt;br&gt;    /\ UNCHANGED &amp;lt;&amp;lt;currentTerm, state&amp;gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt; color: rgb(230, 230, 230);&quot; dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt; color: rgb(230, 230, 230);&quot; dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;/font&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fillColor=light-dark(#2B2B2B,#282A35);perimeterSpacing=0;strokeColor=#9AC7BF;strokeWidth=2;rounded=1;arcSize=2;spacingLeft=0;spacing=15;" parent="HfvCpmWmUsZq0VJ6BsPM-1" vertex="1">
          <mxGeometry x="190" y="240" width="660" height="300" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="snippet-0-safety-props" id="FkJEI6t3R7ntDLy7PyDo">
    <mxGraphModel dx="886" dy="605" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="CU0ZHUVQzLA6e2sbIOE0-0" />
        <mxCell id="CU0ZHUVQzLA6e2sbIOE0-1" parent="CU0ZHUVQzLA6e2sbIOE0-0" />
        <mxCell id="CU0ZHUVQzLA6e2sbIOE0-2" value="&lt;span style=&quot;&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;p dir=&quot;ltr&quot; style=&quot;font-weight: normal; line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: rgb(128, 128, 128); font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; white-space-collapse: preserve;&quot;&gt;\* There cannot be two primaries in the same term.&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt; color: rgb(230, 230, 230);&quot; dir=&quot;ltr&quot;&gt;&lt;font face=&quot;Roboto Mono, monospace&quot; color=&quot;#e6e6e6&quot;&gt;&lt;span style=&quot;font-size: 10.6667px; white-space-collapse: preserve;&quot;&gt;&lt;b&gt;ElectionSafety&lt;/b&gt; ==&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt; color: rgb(230, 230, 230);&quot; dir=&quot;ltr&quot;&gt;&lt;font face=&quot;Roboto Mono, monospace&quot; color=&quot;#e6e6e6&quot;&gt;&lt;span style=&quot;font-size: 10.6667px; white-space-collapse: preserve;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;background-color: transparent; font-size: 10.6667px; white-space-collapse: preserve;&quot;&gt;&lt;font face=&quot;Roboto Mono, monospace&quot; color=&quot;#e6e6e6&quot;&gt;∀&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(230, 230, 230); font-size: 10.6667px; white-space-collapse: preserve; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent;&quot;&gt; s,t &lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 10.6667px; white-space-collapse: preserve; background-color: transparent;&quot;&gt;∈&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 10.6667px; white-space-collapse: preserve;&quot;&gt; Server :&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt; color: rgb(230, 230, 230);&quot; dir=&quot;ltr&quot;&gt;&lt;font face=&quot;Roboto Mono, monospace&quot; color=&quot;#e6e6e6&quot;&gt;&lt;span style=&quot;font-size: 10.6667px; white-space-collapse: preserve;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (/\ state[s] = Primary&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt; color: rgb(230, 230, 230);&quot; dir=&quot;ltr&quot;&gt;&lt;font face=&quot;Roboto Mono, monospace&quot; color=&quot;#e6e6e6&quot;&gt;&lt;span style=&quot;font-size: 10.6667px; white-space-collapse: preserve;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;/\ state[t] = Primary&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt; color: rgb(230, 230, 230);&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 10.6667px; white-space-collapse: preserve;&quot;&gt;&lt;font face=&quot;Roboto Mono, monospace&quot; color=&quot;#e6e6e6&quot;&gt;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt; color: rgb(230, 230, 230);&quot; dir=&quot;ltr&quot;&gt;&lt;font face=&quot;Roboto Mono, monospace&quot; color=&quot;#e6e6e6&quot;&gt;&lt;span style=&quot;font-size: 10.6667px; white-space-collapse: preserve;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;/\ currentTerm[s] = currentTerm[t]) &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;background-color: transparent; font-size: 10.6667px; white-space-collapse: preserve;&quot;&gt;&lt;font face=&quot;Roboto Mono, monospace&quot; color=&quot;#e6e6e6&quot;&gt;⇒&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(230, 230, 230); font-size: 10.6667px; white-space-collapse: preserve; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent;&quot;&gt; (s = t)&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt; color: rgb(230, 230, 230);&quot; dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;color: rgb(128, 128, 128); background-color: transparent; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; white-space-collapse: preserve;&quot;&gt;\* A new primary must contain all log entries committed in earlier terms.&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt; color: rgb(230, 230, 230);&quot; dir=&quot;ltr&quot;&gt;&lt;font face=&quot;Roboto Mono, monospace&quot; color=&quot;#e6e6e6&quot;&gt;&lt;span style=&quot;font-size: 10.6667px; white-space-collapse: preserve;&quot;&gt;&lt;b&gt;LeaderCompleteness&lt;/b&gt; == &lt;br&gt;    &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;background-color: transparent; font-size: 10.6667px; white-space-collapse: preserve;&quot;&gt;&lt;font face=&quot;Roboto Mono, monospace&quot; color=&quot;#e6e6e6&quot;&gt;∀&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(230, 230, 230); font-size: 10.6667px; white-space-collapse: preserve; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent;&quot;&gt; s &lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 10.6667px; white-space-collapse: preserve; background-color: transparent;&quot;&gt;∈&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 10.6667px; white-space-collapse: preserve;&quot;&gt; Server : (state[s] = Primary) &lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 10.6667px; white-space-collapse: preserve; background-color: transparent;&quot;&gt;⇒&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 10.6667px; white-space-collapse: preserve;&quot;&gt; &lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt; color: rgb(230, 230, 230);&quot; dir=&quot;ltr&quot;&gt;&lt;font face=&quot;Roboto Mono, monospace&quot; color=&quot;#e6e6e6&quot;&gt;&lt;span style=&quot;font-size: 10.6667px; white-space-collapse: preserve;&quot;&gt;        &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;background-color: transparent; font-size: 10.6667px; white-space-collapse: preserve;&quot;&gt;&lt;font face=&quot;Roboto Mono, monospace&quot; color=&quot;#e6e6e6&quot;&gt;∀&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(230, 230, 230); font-size: 10.6667px; white-space-collapse: preserve; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent;&quot;&gt; c ∈ committed : (c.term &amp;lt; currentTerm[s] &lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 10.6667px; white-space-collapse: preserve; background-color: transparent;&quot;&gt;⇒&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 10.6667px; white-space-collapse: preserve;&quot;&gt; InLog(&amp;lt;&amp;lt;c.index,c.term&amp;gt;&amp;gt;, s))&lt;/span&gt;&lt;/p&gt;&lt;/font&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fillColor=light-dark(#2B2B2B,#282A35);perimeterSpacing=0;strokeColor=#9AC7BF;strokeWidth=2;rounded=1;arcSize=2;spacingLeft=0;spacing=15;" parent="CU0ZHUVQzLA6e2sbIOE0-1" vertex="1">
          <mxGeometry x="190" y="240" width="660" height="240" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="jm3BY3h6ijAE3kAyquTB" name="snippet-1">
    <mxGraphModel dx="609" dy="416" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="OaAE8KhbQRWyvmubTUjm-1" value="&lt;b style=&quot;&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;font&gt;&lt;p dir=&quot;ltr&quot; style=&quot;font-weight: normal; line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&lt;font style=&quot;color: rgb(128, 128, 128);&quot;&gt;\* The set of all majority quorums in a given set S.&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p dir=&quot;ltr&quot; style=&quot;color: rgb(230, 230, 230); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;Quorums(S)&lt;/span&gt;&lt;span style=&quot;font-weight: 400; font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt; == {i &lt;/span&gt;&lt;b style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;span style=&quot;color: rgb(230, 230, 230); font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 10.6667px; font-weight: 400; white-space-collapse: preserve;&quot;&gt;∈&lt;/span&gt;&lt;/b&gt;&lt;span style=&quot;background-color: transparent; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; font-weight: 400; white-space-collapse: preserve;&quot;&gt; SUBSET(S) : Cardinality(i) * 2 &amp;gt; Cardinality(S)}&lt;/span&gt;&lt;/p&gt;&lt;br&gt;&lt;p dir=&quot;ltr&quot; style=&quot;font-weight: normal; line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&lt;font style=&quot;color: rgb(128, 128, 128);&quot;&gt;\* Do all quorums of two sets intersect.&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p dir=&quot;ltr&quot; style=&quot;color: rgb(230, 230, 230); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;QuorumsOverlap(si, sj)&lt;/span&gt;&lt;span style=&quot;font-weight: 400; font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt; == ∀ qi ∈ Quorums(si), qj ∈ Quorums(sj) : qi ∩ qj ≠ {}&lt;/span&gt;&lt;/p&gt;&lt;br&gt;&lt;p dir=&quot;ltr&quot; style=&quot;font-weight: normal; line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&lt;font style=&quot;color: rgb(128, 128, 128);&quot;&gt;\* A reconfig to ‘newConfig’ occurs on node i. The node must currently be a primary.&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p dir=&quot;ltr&quot; style=&quot;color: rgb(230, 230, 230); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;Reconfig(i, newConfig) ==&lt;/span&gt;&lt;/p&gt;&lt;p dir=&quot;ltr&quot; style=&quot;color: rgb(230, 230, 230); font-weight: normal; line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ state[i] = Primary&lt;/span&gt;&lt;/p&gt;&lt;p dir=&quot;ltr&quot; style=&quot;color: rgb(230, 230, 230); font-weight: normal; line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ i &lt;/span&gt;&lt;b style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;span style=&quot;color: rgb(230, 230, 230); font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 10.6667px; font-weight: 400; white-space-collapse: preserve;&quot;&gt;∈&lt;/span&gt;&lt;/b&gt;&lt;span style=&quot;background-color: transparent; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; white-space-collapse: preserve;&quot;&gt; newConfig&lt;/span&gt;&lt;/p&gt;&lt;p dir=&quot;ltr&quot; style=&quot;font-weight: normal; line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;span style=&quot;color: rgb(230, 230, 230); font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; background-color: light-dark(rgb(43, 43, 43), rgb(40, 42, 53));&quot;&gt;&lt;font style=&quot;color: rgb(204, 255, 153);&quot;&gt;/\ QuorumsOverlap(config[i], newConfig)&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p dir=&quot;ltr&quot; style=&quot;color: rgb(230, 230, 230); font-weight: normal; line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ configVersion&#39; = [configVersion EXCEPT ![i] = configVersion[i] + 1]&lt;/span&gt;&lt;/p&gt;&lt;p dir=&quot;ltr&quot; style=&quot;color: rgb(230, 230, 230); font-weight: normal; line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ config&#39; = [config EXCEPT ![i] = newConfig]&lt;/span&gt;&lt;/p&gt;&lt;p dir=&quot;ltr&quot; style=&quot;color: rgb(230, 230, 230); font-weight: normal; line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ UNCHANGED &amp;lt;&amp;lt;currentTerm, state&amp;gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;/font&gt;&lt;/b&gt;" style="text;whiteSpace=wrap;html=1;fillColor=light-dark(#2B2B2B,#282A35);perimeterSpacing=0;strokeColor=#9AC7BF;strokeWidth=2;rounded=1;arcSize=2;spacingLeft=0;spacing=15;" vertex="1" parent="1">
          <mxGeometry x="160" y="240" width="600" height="270" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="snippet-2" id="sBdfkW78Seg2GSQwLiOp">
    <mxGraphModel dx="975" dy="666" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="emswD_iwEAi1JWjyzHRn-0" />
        <mxCell id="emswD_iwEAi1JWjyzHRn-1" parent="emswD_iwEAi1JWjyzHRn-0" />
        <mxCell id="emswD_iwEAi1JWjyzHRn-2" value="&lt;b style=&quot;&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;font&gt;&lt;p style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size:8pt;font-family:&#39;Roboto Mono&#39;,monospace;color:#999999;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;&quot;&gt;\* A quorum of servers in the config of server i have the term of i.&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;TermQuorumCheck(i)&lt;span style=&quot;font-weight: 400;&quot;&gt; ==&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; color: rgb(0, 0, 0);&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; ∃ Q &lt;/font&gt;&lt;/span&gt;&lt;b style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;b style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;span style=&quot;color: rgb(230, 230, 230); font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 10.6667px; font-weight: 400; white-space-collapse: preserve;&quot;&gt;∈&lt;/span&gt;&lt;/b&gt;&lt;/b&gt;&lt;span style=&quot;color: rgb(230, 230, 230); background-color: transparent; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; font-weight: 400; white-space-collapse: preserve;&quot;&gt; Quorums(config[i]) :&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; color: rgb(0, 0, 0);&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/font&gt;&lt;/span&gt;&lt;b style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;span style=&quot;color: rgb(230, 230, 230); font-weight: 400; white-space-collapse: preserve; background-color: transparent; font-size: 10.6667px;&quot;&gt;&lt;font face=&quot;Roboto Mono, monospace&quot; color=&quot;#e6e6e6&quot;&gt;∀&lt;/font&gt;&lt;/span&gt;&lt;/b&gt;&lt;span style=&quot;color: rgb(230, 230, 230); background-color: transparent; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; font-weight: 400; white-space-collapse: preserve;&quot;&gt; t &lt;/span&gt;&lt;b style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;b style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;span style=&quot;color: rgb(230, 230, 230); font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 10.6667px; font-weight: 400; white-space-collapse: preserve;&quot;&gt;∈&lt;/span&gt;&lt;/b&gt;&lt;/b&gt;&lt;span style=&quot;background-color: transparent; color: rgb(230, 230, 230); font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; font-weight: 400; white-space-collapse: preserve;&quot;&gt; Q :&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; color: rgb(0, 0, 0);&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;currentTerm[t] = currentTerm[i]&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p dir=&quot;ltr&quot; style=&quot;font-weight: normal; line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;b id=&quot;docs-internal-guid-1c56d531-7fff-ef8d-8167-d820a9975c38&quot; style=&quot;font-weight:normal;&quot;&gt;&lt;br&gt;&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size:8pt;font-family:&#39;Roboto Mono&#39;,monospace;color:#999999;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;&quot;&gt;\* A quorum of servers in the config of server i have i&#39;s config.&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;ConfigQuorumCheck(i)&lt;span style=&quot;font-weight: 400;&quot;&gt; ==&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; color: rgb(0, 0, 0);&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;∃ Q &lt;/font&gt;&lt;/span&gt;&lt;b style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;b style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;span style=&quot;color: rgb(230, 230, 230); font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 10.6667px; font-weight: 400; white-space-collapse: preserve;&quot;&gt;∈&lt;/span&gt;&lt;/b&gt;&lt;/b&gt;&lt;span style=&quot;color: rgb(230, 230, 230); background-color: transparent; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; font-weight: 400; white-space-collapse: preserve;&quot;&gt; Quorums(config[i]) :&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; color: rgb(0, 0, 0);&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/span&gt;&lt;b style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;b style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;span style=&quot;color: rgb(230, 230, 230); font-weight: 400; white-space-collapse: preserve; background-color: transparent; font-size: 10.6667px;&quot;&gt;&lt;font face=&quot;Roboto Mono, monospace&quot; color=&quot;#e6e6e6&quot;&gt;∀&lt;/font&gt;&lt;/span&gt;&lt;/b&gt;&lt;/b&gt;&lt;span style=&quot;color: rgb(230, 230, 230); background-color: transparent; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; font-weight: 400; white-space-collapse: preserve;&quot;&gt; t &lt;/span&gt;&lt;b style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;b style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;span style=&quot;color: rgb(230, 230, 230); font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 10.6667px; font-weight: 400; white-space-collapse: preserve;&quot;&gt;∈&lt;/span&gt;&lt;/b&gt;&lt;/b&gt;&lt;span style=&quot;background-color: transparent; color: rgb(230, 230, 230); font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; font-weight: 400; white-space-collapse: preserve;&quot;&gt; Q :&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; color: rgb(0, 0, 0);&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;configVersion[t] = configVersion[i]&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p dir=&quot;ltr&quot; style=&quot;font-weight: normal; line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;b style=&quot;font-weight:normal;&quot;&gt;&lt;br&gt;&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size:8pt;font-family:&#39;Roboto Mono&#39;,monospace;color:#999999;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;&quot;&gt;\* A reconfig occurs on node i. The node must currently be a leader.&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;Reconfig(i, newConfig)&lt;span style=&quot;font-weight: 400;&quot;&gt; ==&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; color: rgb(0, 0, 0);&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ state[i] = Primary&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; color: rgb(0, 0, 0);&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ i &lt;/font&gt;&lt;/span&gt;&lt;b style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;span style=&quot;color: rgb(230, 230, 230); font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 10.6667px; font-weight: 400; white-space-collapse: preserve;&quot;&gt;∈&lt;/span&gt;&lt;/b&gt;&lt;span style=&quot;color: rgb(230, 230, 230); background-color: transparent; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; font-weight: 400; white-space-collapse: preserve;&quot;&gt; newConfig&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; color: rgb(0, 0, 0);&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ QuorumsOverlap(config[i], newConfig)&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;font style=&quot;color: rgb(204, 255, 153);&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 700; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; background-color: light-dark(rgb(43, 43, 43), rgb(40, 42, 53));&quot;&gt;&lt;font&gt;/\ ConfigQuorumCheck(i)&lt;/font&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;font style=&quot;color: rgb(204, 255, 153);&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 700; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; background-color: light-dark(rgb(43, 43, 43), rgb(40, 42, 53));&quot;&gt;&lt;font&gt;/\ TermQuorumCheck(i)&lt;/font&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; color: rgb(0, 0, 0);&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ configVersion&#39; = [configVersion EXCEPT ![i] = configVersion[i] + 1]&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; color: rgb(0, 0, 0);&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ config&#39; = [config EXCEPT ![i] = newConfig]&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p dir=&quot;ltr&quot; style=&quot;font-weight: normal; line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;line-height:1.38;margin-top:0pt;margin-bottom:0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; color: rgb(0, 0, 0);&quot;&gt;&lt;font style=&quot;color: rgb(230, 230, 230);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ UNCHANGED &amp;lt;&amp;lt;currentTerm, state&amp;gt;&amp;gt;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;div&gt;&lt;span style=&quot;font-size:8pt;font-family:&#39;Roboto Mono&#39;,monospace;color:#000000;background-color:transparent;font-weight:400;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;/font&gt;&lt;/b&gt;" style="text;whiteSpace=wrap;html=1;fillColor=light-dark(#2B2B2B,#282A35);perimeterSpacing=0;strokeColor=#9AC7BF;strokeWidth=2;rounded=1;arcSize=2;spacingLeft=0;spacing=15;" vertex="1" parent="emswD_iwEAi1JWjyzHRn-1">
          <mxGeometry x="160" y="240" width="600" height="410" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="snippet-3" id="S_iPkfZZRhB_bu0P7GiJ">
    <mxGraphModel dx="975" dy="666" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="PZxheYSt70NZlAnJf3qO-0" />
        <mxCell id="PZxheYSt70NZlAnJf3qO-1" parent="PZxheYSt70NZlAnJf3qO-0" />
        <mxCell id="PZxheYSt70NZlAnJf3qO-2" value="&lt;b style=&quot;&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;font&gt;&lt;p style=&quot;color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39)); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&lt;b style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; white-space-collapse: collapse;&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;/b&gt;&lt;/span&gt;&lt;/p&gt;&lt;b id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;p style=&quot;line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-variant-position: normal; font-variant-emoji: normal; vertical-align: baseline; white-space-collapse: preserve;&quot;&gt;&lt;font style=&quot;color: rgb(128, 128, 128);&quot;&gt;\* All entries committed in primary&#39;s term are committed in its current config.&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39)); background-color: transparent; white-space-collapse: preserve; font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-variant-position: normal; font-variant-emoji: normal; vertical-align: baseline;&quot;&gt;OplogCommitment(s)&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39)); background-color: transparent; white-space-collapse: preserve; font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-weight: 400; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-variant-position: normal; font-variant-emoji: normal; vertical-align: baseline;&quot;&gt; ==&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;/b&gt;&lt;p style=&quot;color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39)); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;background-color: transparent; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; font-weight: 400; white-space-collapse: preserve; color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39));&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ &lt;/span&gt;&lt;b style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;span style=&quot;color: rgb(230, 230, 230); font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 10.6667px; font-weight: 400; white-space-collapse: preserve;&quot;&gt;∃&lt;/span&gt;&lt;/b&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39)); font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; font-weight: 400; white-space-collapse: preserve;&quot;&gt; c &lt;/span&gt;&lt;b style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;b style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;span style=&quot;color: rgb(230, 230, 230); font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 10.6667px; font-weight: 400; white-space-collapse: preserve;&quot;&gt;∈ &lt;/span&gt;&lt;/b&gt;&lt;/b&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39)); font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; font-weight: 400; white-space-collapse: preserve;&quot;&gt;committed : (c.term = currentTerm[s])&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39)); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;background-color: transparent; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; font-weight: 400; white-space-collapse: preserve; color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39));&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ &lt;/span&gt;&lt;b style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;b style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;span style=&quot;color: rgb(230, 230, 230); font-weight: 400; white-space-collapse: preserve; background-color: transparent; font-size: 10.6667px;&quot;&gt;&lt;font face=&quot;Roboto Mono, monospace&quot; color=&quot;#e6e6e6&quot;&gt;∀&lt;/font&gt;&lt;/span&gt;&lt;/b&gt;&lt;/b&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39)); font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; font-weight: 400; white-space-collapse: preserve;&quot;&gt; c &lt;/span&gt;&lt;b style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;b style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;span style=&quot;color: rgb(230, 230, 230); font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 10.6667px; font-weight: 400; white-space-collapse: preserve;&quot;&gt;∈&lt;/span&gt;&lt;/b&gt;&lt;/b&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39)); font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; font-weight: 400; white-space-collapse: preserve;&quot;&gt; committed : (c.term = currentTerm[s]) =&amp;gt; IsCommitted(c.entry.index, s)&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39)); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;b id=&quot;docs-internal-guid-878e2a91-7fff-a3c8-2afd-2d5c69914c0f&quot; style=&quot;font-weight:normal;&quot;&gt;&lt;br&gt;&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&lt;font style=&quot;color: rgb(128, 128, 128);&quot;&gt;\* A reconfig occurs on node i. The node must currently be a leader.&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39)); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;Reconfig(i, newConfig)&lt;/span&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt; ==&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39)); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ state[i] = Primary&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39)); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&lt;b style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; white-space-collapse: collapse;&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;/b&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;forced-color-adjust: none; color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39)); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;forced-color-adjust: none; font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ i &lt;/span&gt;&lt;b style=&quot;forced-color-adjust: none; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot; id=&quot;docs-internal-guid-955c089a-7fff-785c-a062-aca5ab7f73e9&quot;&gt;&lt;span style=&quot;forced-color-adjust: none; color: rgb(230, 230, 230); font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 10.6667px; font-weight: 400; white-space-collapse: preserve;&quot;&gt;∈ &lt;/span&gt;&lt;/b&gt;&lt;span style=&quot;forced-color-adjust: none; background-color: transparent; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; font-weight: 400; white-space-collapse: preserve; color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39));&quot;&gt;newConfig&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39)); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ QuorumsOverlap(config[i], newConfig)&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39)); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ ConfigQuorumCheck(i)&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39)); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ TermQuorumCheck(i)&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;font style=&quot;color: rgb(204, 255, 153);&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 700; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; background-color: light-dark(rgb(43, 43, 43), rgb(40, 42, 53));&quot;&gt;&lt;font style=&quot;&quot;&gt;/\ OplogCommitment(i)&lt;/font&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39)); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;background-color: transparent; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; font-size: 8pt; font-weight: 400; white-space-collapse: preserve; color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39));&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ configVersion&#39; = [configVersion EXCEPT ![i] = configVersion[i] + 1]&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39)); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ config&#39; = [config EXCEPT ![i] = newConfig]&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39)); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-weight:normal;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: light-dark(rgb(230, 230, 230), rgb(39, 39, 39)); line-height: 1.38; margin-top: 0pt; margin-bottom: 0pt;&quot; dir=&quot;ltr&quot;&gt;&lt;span style=&quot;font-size: 8pt; font-family: &amp;quot;Roboto Mono&amp;quot;, monospace; background-color: transparent; font-weight: 400; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/\ UNCHANGED &amp;lt;&amp;lt;currentTerm, state&amp;gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;/font&gt;&lt;/b&gt;" style="text;whiteSpace=wrap;html=1;fillColor=light-dark(#2B2B2B,#282A35);perimeterSpacing=0;strokeColor=#9AC7BF;strokeWidth=2;rounded=1;arcSize=2;spacingLeft=0;spacing=15;" parent="PZxheYSt70NZlAnJf3qO-1" vertex="1">
          <mxGeometry x="160" y="230" width="600" height="310" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
